<script>	var validatedEmail = false;	jQuery(".newsletter-form").submit(function(e){	e.preventDefault();		var form = jQuery(this);	var error = validateForm(jQuery(this));	if(error==0){		$.ajax({ 			url:'<?php echo e(url(App("urlLang")."home/savenewsletter/")); ?>', 			type: 'post', 			headers: {		        'X-CSRF-TOKEN': jQuery('meta[name="csrf-token"]').attr('content')		    }, 			data: {email: form.find(".newsletter-email").val()}, 			beforeSend: function(){				form.find(".newsletter-submit").button('loading');			},	        success: function( message ) {		        	                var messageDiv = form.find(".displayNewsletter");                messageDiv.html(message);	            messageDiv.slideDown();	          	           setTimeout(function(){					messageDiv.fadeOut("slow", function(){					});				}, 5000);                 messageDiv.val(""); 	        },	        complete: function(){	        	form.find(".newsletter-submit").button('reset');	        } 		});	}});function validateForm(formid){		var error = 0;	formid.find("input.required,textarea.required,select.required").each(function(){		        if(jQuery(this).val() == "" || jQuery(this).val() == "<?php echo e(trans('home.enter_your_email')); ?>"){        	            jQuery(this).closest('.form-group').find(".help-block").remove();			jQuery(this).closest('.form-group').append('<span class="help-block" style="color:white;"><?php echo e(trans("home.this_field_required")); ?></span>');			jQuery(this).closest('.form-group').addClass('has-error');                  error++;        }else if(validatedEmail){           jQuery(this).closest('.form-group').find(".help-block").remove();			jQuery(this).closest('.form-group').removeClass('has-error');        }    });		    return error;}function isValidEmailAddress(emailAddress) {    var pattern = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;    return pattern.test(emailAddress);};</script>